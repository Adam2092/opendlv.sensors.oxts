language: cpp

compiler:
  - gcc

addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-6

install:
- "[ $CC = gcc ] && export CC=gcc-6 || true"
- "[ $CXX = g++ ] && export CXX=g++-6 || true"

script:
  - git clone https://github.com/chrberger/libcluon.git
  - cd libcluon && mkdir build && cd build && cmake ../libcluon && make && make test && sudo make install && cd ../..
  - mkdir -p build && cd build && cmake ..
  - make
  - make test

